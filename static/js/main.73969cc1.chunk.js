(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{250:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t);var o=a(1),n=a.n(o),l=a(18),r=a.n(l),c=(a(89),a(7)),s=a(8),i=a(11),u=a(9),m=a(10),d=a(3),f=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(d.h,{color:"dark"},n.a.createElement(d.i,null,"Stock Manager")))}}]),t}(o.Component),p=a(21),h=a(17),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this,t=this.props,a=t.portfolioName,o=t.handlePortfolioName,l=t.createPortfolio;return n.a.createElement("div",null,n.a.createElement(d.a,{color:"primary",className:"add-portfolio",onClick:this.toggle},"Add Portfolio"),n.a.createElement(d.d,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},n.a.createElement(d.g,{toggle:this.toggle},"Create new Portfolio"),n.a.createElement(d.e,null,n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Portfolio Name",value:a,onChange:o})),n.a.createElement(d.f,null,n.a.createElement(d.a,{color:"secondary",onClick:this.toggle},"Close")," ",n.a.createElement(d.a,{color:"primary",onClick:function(){return l(e.toggle)}},"Create"))))}}]),t}(o.Component),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this,t=this.props,a=t.stockName,o=t.stockAmount,l=t.handleStockName,r=t.addStock,c=t.index;return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(d.a,{color:"primary",className:"add-portfolio",onClick:this.toggle},"Add Stock")),n.a.createElement(d.d,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},n.a.createElement(d.g,{toggle:this.toggle},"Add stock"),n.a.createElement(d.e,null,n.a.createElement("form",null,n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("h6",null,"Stock Name")),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Example: NOK or Msft...",name:"stockName",style:{textTransform:"uppercase"},value:a,onChange:l})),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("h6",null,"Stock Amount")),n.a.createElement("input",{type:"number",className:"form-control",placeholder:"0",name:"stockAmount",value:o,onChange:l})))),n.a.createElement(d.f,null,n.a.createElement(d.a,{color:"secondary",onClick:this.toggle},"Close")," ",n.a.createElement(d.a,{color:"primary",onClick:function(){return r(c,e.toggle)}},"Create"))))}}]),t}(o.Component),k=a(82),b=a(29),v=a.n(b),N=a(20),y=a.n(N),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState({modal:!a.state.modal})},a.getStocks=function(e){var t=a.state.data.datasets;a.state.portfolios[e].stocks.map(function(e){return v.a.get("https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=".concat(e.stockName,"&outputsize=full&apikey=EVNDD17OHUNAZIMD")).then(function(o){var n=o.data["Time Series (Daily)"],l=Object.keys(n),r=Object.values(n).map(function(e){return Number(e["1. open"])});a.setState({data:y()(a.state.data,{labels:{$set:l.reverse()},originalLabels:{$set:l}})});var c="#"+(Math.random().toString(16)+"000000").substring(2,8);!1===t.some(function(t){return t.label===e.stockName})&&t.push({label:e.stockName,data:r.reverse(),backgroundColor:c,borderColor:c,borderWidth:2,fill:!1,pointRadius:0}),a.setState({data:y()(a.state.data,{datasets:{$set:t}})})}).catch(function(e){return console.log(e)})}),a.toggle()},a.handleChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.filterChart=function(){var e=a.state.data.originalLabels,t=a.state.startDate,o=a.state.endDate;if(null===t||null===o)alert("Please enter the date");else if(new Date(t)>new Date(o))alert("Start date must be less than end date");else if(new Date(o)>new Date)alert("End date cannot be present or after today");else{var n=e.indexOf(t),l=e.indexOf(o),r=e.slice(n,l+1);a.setState({data:y()(a.state.data,{labels:{$set:r}})})}},a.state={modal:!1,portfolios:[],data:{originalLabels:[],labels:[],datasets:[]},startDate:null,endDate:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({portfolios:e.portfolios})}},{key:"render",value:function(){var e=this,t=this.props.id,a=n.a.createElement("button",{className:"close",onClick:this.toggle},"\xd7");return n.a.createElement(d.j,null,n.a.createElement(d.b,{xs:"12"},n.a.createElement(d.a,{color:"info",onClick:function(){return e.getStocks(t)}},"Perf Graph"),n.a.createElement(d.d,{isOpen:this.state.modal,toggle:this.toggle,className:"modal-size"},n.a.createElement(d.g,{toggle:this.toggle,close:a},"Perf Chart"),n.a.createElement(d.e,null,n.a.createElement(k.a,{data:this.state.data,height:400,options:{maintainAspectRatio:!1}})),n.a.createElement(d.f,null,n.a.createElement("span",{style:{fontWeight:"bold"}},"Start date:"),n.a.createElement("input",{type:"date",name:"startDate",style:{marginRight:"10px"},onChange:this.handleChange}),n.a.createElement("span",{style:{fontWeight:"bold"}},"End Date:"),n.a.createElement("input",{type:"date",name:"endDate",onChange:this.handleChange}),n.a.createElement(d.a,{color:"primary",onClick:this.filterChart},"Filter")," ",n.a.createElement(d.a,{color:"secondary",onClick:this.toggle},"Close")))))}}]),t}(o.Component),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handlePortfolioName=function(e){a.setState({portfolioName:e.target.value})},a.handleStockName=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.createPortfolio=function(e){if(""===a.state.portfolioName)alert("Portfolio name cannot be empty");else{var t=a.state.portfolios,o={name:a.state.portfolioName,isEuro:!0,stocks:[]};t.push(o),a.setState({portfolioName:"",portfolios:t}),e()}},a.removePortfolio=function(e){var t=a.state.portfolios;t.splice(e,1),a.setState({portfolios:t})},a.addStock=function(e,t){if(""===a.state.stockName)alert("Please enter stock name");else{var o=a.state.stockName.toUpperCase(),n=a.state.stockAmount,l=a.state.portfolios;v.a.get("https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=".concat(o,"&interval=1min&apikey=EVNDD17OHUNAZIMD&outputsize=compact")).then(function(t){var r=t.data["Time Series (1min)"],c=Object.values(r)[0]["1. open"],s=Number.parseFloat(n*c).toFixed(3),i={stockName:o,stockAmount:n,unitValue:c,totalValue:s};l[e].stocks.push(i),a.setState({portfolios:l})}).catch(function(e){return alert("stock doesnot exist")}),a.setState({stockName:"",stockAmount:1}),t()}},a.toggleButton=function(e){a.setState({portfolios:y()(a.state.portfolios,Object(p.a)({},e,{isEuro:{$set:!a.state.portfolios[e].isEuro}}))})},a.selectedStock=function(e){var t=a.state.selectedStocks;if(t.includes(e)){var o=t.indexOf(e);t.splice(o,1)}else t.push(e);a.setState({selectedStocks:t})},a.removeSelectedStocks=function(e){var t=a.state.portfolios[e].stocks,o=a.state.selectedStocks,n=t.filter(function(e){return!o.includes(e.stockName)});a.setState({portfolios:y()(a.state.portfolios,Object(p.a)({},e,{stocks:{$set:n}})),selectedStocks:[]})},a.countValue=function(e){var t=[0],o=a.state.portfolios[e];if(o.stocks.map(function(e){return t.push(Number(e.totalValue))}),o.isEuro){var n=t.reduce(function(e,t){return e+t});return Number.parseFloat(n).toFixed(3)+"$"}var l=t.reduce(function(e,t){return e+t})*a.state.exchangeRate;return Number.parseFloat(l).toFixed(3)+"\u20ac"},a.state={portfolioName:"",stockName:"",stockAmount:1,portfolios:[],exchangeRate:"",selectedStocks:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;v.a.get("https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=USD&to_currency=EUR&apikey=EVNDD17OHUNAZIMD").then(function(t){var a=t.data["Realtime Currency Exchange Rate"]["5. Exchange Rate"];e.setState({exchangeRate:a})})}},{key:"render",value:function(){var e=this,t=this.state.portfolios.map(function(t,a){return n.a.createElement(d.b,{xs:"12",lg:"6",key:a},n.a.createElement("div",{className:"portfolio-box"},n.a.createElement("div",{className:"portfolio-header"},n.a.createElement("span",{className:"portfolio-name"},t.name),n.a.createElement("span",null,n.a.createElement(d.a,{color:"primary",onClick:function(){return e.toggleButton(a)}},e.state.portfolios[a].isEuro?"Show in Euro":"Show in Dollar")),n.a.createElement("span",null,n.a.createElement(d.a,{color:"danger",style:{borderRadius:"50%"},onClick:function(){window.confirm("Are you sure you want to delete this item?")&&e.removePortfolio(a)}},"X"))),n.a.createElement("div",{className:"portfolio-body"},n.a.createElement(d.k,{bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Stock"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Unit Value"),n.a.createElement("th",null,"Total Value"),n.a.createElement("th",null))),t.stocks.map(function(a,o){return n.a.createElement("tbody",{key:o},n.a.createElement("tr",null,n.a.createElement("td",null,a.stockName),n.a.createElement("td",null,a.stockAmount),n.a.createElement("td",null,t.isEuro?Number(a.unitValue)+"$":Number.parseFloat(Number(a.unitValue)*e.state.exchangeRate).toFixed(3)+"\u20ac"),n.a.createElement("td",null,t.isEuro?Number(a.totalValue)+"$":Number.parseFloat(Number(a.totalValue)*e.state.exchangeRate).toFixed(3)+"\u20ac"),n.a.createElement("td",null,n.a.createElement("input",{type:"checkbox",onClick:function(){return e.selectedStock(a.stockName)}}))))}))),n.a.createElement("p",null,"Total Value: ",e.countValue(a)),n.a.createElement("div",{className:"portfolio-footer"},n.a.createElement(g,{stockName:e.state.stockName,stockAmount:e.state.stockAmount,handleStockName:e.handleStockName,addStock:e.addStock,index:a}),n.a.createElement(S,{id:a,portfolios:e.state.portfolios}),n.a.createElement("span",null,n.a.createElement(d.a,{color:"danger",onClick:function(){return e.removeSelectedStocks(a)}},"Remove Selected")))))});return n.a.createElement("div",null,n.a.createElement(E,{portfolioName:this.state.portfolioName,handlePortfolioName:this.handlePortfolioName,createPortfolio:this.createPortfolio}),n.a.createElement(d.j,null,t))}}]),t}(o.Component),C=(a(250),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(f,null),n.a.createElement(d.c,{fluid:!0},n.a.createElement(O,null)))}}]),t}(o.Component));a(252),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},84:function(e,t,a){e.exports=a(254)},89:function(e,t,a){}},[[84,2,1]]]);
//# sourceMappingURL=main.73969cc1.chunk.js.map